var z=Object.defineProperty;var B=(r,i,e)=>i in r?z(r,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[i]=e;var D=(r,i,e)=>(B(r,typeof i!="symbol"?i+"":i,e),e),_=(r,i,e)=>{if(!i.has(r))throw TypeError("Cannot "+e)};var t=(r,i,e)=>(_(r,i,"read from private field"),e?e.call(r):i.get(r)),h=(r,i,e)=>{if(i.has(r))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(r):i.set(r,e)},u=(r,i,e,s)=>(_(r,i,"write to private field"),s?s.call(r,e):i.set(r,e),e);var n=(r,i,e)=>(_(r,i,"access private method"),e);const J="typing",K="type",Q="typed",Z="erasing",tt="erase",et="erased",st="resumed",it="paused",rt="typewritten-text:nextchar",nt="typewritten-text:prevchar",ht="typewritten-text:phrasetyped",at="typewritten-text:phraseremoved",pt="typewritten-text:started",ot="typewritten-text:paused",V=r=>new Promise(i=>setTimeout(i,r));var y,a,c,v,m,A,L,S,R,x,N,P,X,I,k,T,F,M,W,o,l,w,E,O,Y,C,j,g,H,d;const f=class f extends HTMLElement{constructor(){super();h(this,A);h(this,S);h(this,P);h(this,I);h(this,T);h(this,M);h(this,o);h(this,O);h(this,C);h(this,y,void 0);h(this,a,0);h(this,c,"typing");h(this,v,[]);h(this,m,[]);h(this,x,()=>this.reset());h(this,N,()=>{t(this,S,R).assignedNodes().length===0&&this.reset()});h(this,w,(e,s)=>{const p=parseFloat(this.getAttribute(e));return isNaN(p)?s:p});h(this,E,!1);h(this,g,e=>t(this,a)===((e??t(this,c))==="typing"?this.length:0));h(this,H,()=>{const e=this.shadowRoot??this.attachShadow({mode:"open"}),s=document.createElement("style");s.innerHTML=f.css;const p=document.createElement("template");return p.innerHTML=f.html,e.appendChild(s),e.appendChild(p.content),e});h(this,d,(e,s,p)=>(console.warn(`typewritten-text: \`${e}\` is deprecated. Use \`${s.join("`, `")}\` instead.`),p()));t(this,H).call(this)}static get observedAttributes(){return["paused"]}get paused(){return this.hasAttribute("paused")}set paused(e){this.toggleAttribute("paused",e)}get typeSpeed(){return!this.hasAttribute("type-speed")&&this.hasAttribute("letter-interval")?this.letterInterval:t(this,w).call(this,"type-speed",80)}set typeSpeed(e){this.setAttribute("type-speed",e.toString())}get eraseSpeed(){return!this.hasAttribute("erase-speed")&&this.hasAttribute("letter-interval")?this.letterInterval:t(this,w).call(this,"erase-speed",50)}set eraseSpeed(e){this.setAttribute("erase-speed",e.toString())}get repeat(){return this.hasAttribute("repeat")}set repeat(e){this.toggleAttribute("repeat",e)}get repeatInterval(){return!this.hasAttribute("repeat-interval")&&this.hasAttribute("phrase-interval")?this.phraseInterval:t(this,w).call(this,"repeat-interval",1e3)}set repeatInterval(e){this.setAttribute("repeat-interval",e.toString())}get position(){return t(this,a)}get length(){return t(this,v).length}async type(){await n(this,O,Y).call(this,"typing")}async typeOne(){t(this,a)>=this.length||(t(this,v)[t(this,a)].hidden=!1,t(this,v)[t(this,a)].classList.add("typewritten-text_revealed"),n(this,o,l).call(this,K),n(this,o,l).call(this,rt),n(this,C,j).call(this,"typing"),u(this,a,t(this,a)+1),t(this,g).call(this,"typing")&&(n(this,o,l).call(this,Q),n(this,o,l).call(this,ht)))}async erase(){await n(this,O,Y).call(this,"erasing")}async eraseOne(){t(this,a)<=0||(u(this,a,t(this,a)-1),t(this,v)[t(this,a)].hidden=!0,t(this,v)[t(this,a)].classList.remove("typewritten-text_revealed"),n(this,o,l).call(this,tt),n(this,o,l).call(this,nt),n(this,C,j).call(this,"erasing"),t(this,g).call(this,"erasing")&&(n(this,o,l).call(this,et),n(this,o,l).call(this,at)))}switchDirection(){u(this,c,t(this,c)==="typing"?"erasing":"typing")}pause(){this.paused=!0}resume(){t(this,c)==="erasing"?this.erase():this.type()}reset(){u(this,a,0),u(this,E,!1),u(this,c,"typing"),t(this,S,R).assignedNodes().forEach(e=>e.remove()),n(this,P,X).call(this),this.paused||this.resume()}connectedCallback(){t(this,A,L).addEventListener("slotchange",t(this,x)),t(this,S,R).addEventListener("slotchange",t(this,N))}disconnectedCallback(){t(this,A,L).removeEventListener("slotchange",t(this,x)),t(this,A,L).removeEventListener("slotchange",t(this,N))}attributeChangedCallback(e,s,p){e==="paused"&&p==null&&(n(this,o,l).call(this,st),n(this,o,l).call(this,pt),this.resume()),e==="paused"&&p!=null&&(n(this,o,l).call(this,it),n(this,o,l).call(this,ot))}get letterInterval(){return t(this,d).call(this,"letterInterval",["type-speed","erase-speed"],()=>t(this,w).call(this,"letter-interval",100))}set letterInterval(e){t(this,d).call(this,"letterInterval",["type-speed","erase-speed"],()=>this.setAttribute("letter-interval",e.toString()))}get phraseInterval(){return t(this,d).call(this,"phraseInterval",["repeat-interval"],()=>t(this,w).call(this,"phrase-interval",1e3))}set phraseInterval(e){t(this,d).call(this,"phraseInterval",["repeat-interval"],()=>this.setAttribute("phrase-interval",e.toString()))}get currentPosition(){return t(this,d).call(this,"currentPosition",["position"],()=>t(this,a))}typeNext(){t(this,d).call(this,"typeNext",["typeOne"],()=>this.typeOne())}backspace(){t(this,d).call(this,"backspace",["eraseOne"],()=>this.eraseOne())}start(){t(this,d).call(this,"start",["resume"],()=>this.resume())}tick(){t(this,d).call(this,"tick",["typeOne","eraseOne"],()=>{this.paused||(t(this,c)==="typing"?this.typeOne():this.eraseOne(),t(this,g).call(this)&&this.switchDirection())})}forceTick(){t(this,d).call(this,"tick",["typeOne","eraseOne"],()=>{t(this,c)==="typing"?this.typeOne():this.eraseOne(),t(this,g).call(this)&&this.switchDirection()})}reverse(){t(this,d).call(this,"reverse",["switchDirection"],()=>this.switchDirection())}};y=new WeakMap,a=new WeakMap,c=new WeakMap,v=new WeakMap,m=new WeakMap,A=new WeakSet,L=function(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("slot")},S=new WeakSet,R=function(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector('slot[name="mirror"]')},x=new WeakMap,N=new WeakMap,P=new WeakSet,X=function(){var e,s;u(this,y,document.createElement("span")),t(this,y).slot="mirror",t(this,y).innerHTML='<span class="cursor current typewritten-text_start typewritten-text_current"></span>'+n(this,I,k).call(this),this.appendChild(t(this,y)),u(this,v,((e=t(this,y))==null?void 0:e.querySelectorAll(".char"))??[]),u(this,m,((s=t(this,y))==null?void 0:s.querySelectorAll(".cursor"))??[])},I=new WeakSet,k=function(e=this){return[...e.childNodes].map(s=>{if(s.nodeType===Node.TEXT_NODE)return n(this,T,F).call(this,s.textContent);{const p=s.cloneNode(!1);return p.innerHTML=n(this,I,k).call(this,s),p.outerHTML}}).join("")},T=new WeakSet,F=function(e){return e.split(/(\s)/g).filter(s=>s.length>0).map(s=>`<span class="word typewritten-text_word">${n(this,M,W).call(this,s)}</span>`).join("")},M=new WeakSet,W=function(e){return[...e].map(s=>`<span class="char cursor typewritten-text_character" hidden>${s}</span>`).join("")},o=new WeakSet,l=function(e){this.dispatchEvent(new CustomEvent(e,{detail:{position:t(this,a),length:this.length}}))},w=new WeakMap,E=new WeakMap,O=new WeakSet,Y=async function(e){if(!t(this,E)){for(u(this,E,!0),this.paused=!1,u(this,c,e),n(this,o,l).call(this,t(this,c)==="typing"?J:Z);!this.paused&&(!t(this,g).call(this)||this.repeat);)await(t(this,c)==="typing"?this.typeOne():this.eraseOne()),t(this,g).call(this)||await V(t(this,c)==="typing"?this.typeSpeed:this.eraseSpeed),t(this,g).call(this)&&this.repeat&&!this.paused&&(await V(this.repeatInterval),this.switchDirection());t(this,g).call(this)&&this.switchDirection(),this.paused=!0,u(this,E,!1)}},C=new WeakSet,j=function(e){var q,U,$,G;const s=e==="typing"?"add":"remove",p=e==="typing"?"remove":"add";(q=t(this,m)[t(this,a)+1])==null||q.classList[s]("current"),(U=t(this,m)[t(this,a)])==null||U.classList[p]("current"),($=t(this,m)[t(this,a)+1])==null||$.classList[s]("typewritten-text_current"),(G=t(this,m)[t(this,a)])==null||G.classList[p]("typewritten-text_current")},g=new WeakMap,H=new WeakMap,d=new WeakMap,D(f,"defaultElementName","typewritten-text"),D(f,"html",`
		<span class="visually-hidden no-copy"><slot></slot></span>
		<span aria-hidden="true"><slot name="mirror"></slot></span>
	`),D(f,"css",`
		:host { display: inline; }

		.visually-hidden {
			clip: rect(1px, 1px, 1px, 1px);
			clip-path: inset(50%);
			height: 1px;
			width: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute;
		}

		.no-copy { user-select: none; }
	`);let b=f;window.customElements.get(b.defaultElementName)||window.customElements.define(b.defaultElementName,b);
