var T=Object.defineProperty;var C=(o,s,t)=>s in o?T(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var a=(o,s,t)=>(C(o,typeof s!="symbol"?s+"":s,t),t),N=(o,s,t)=>{if(!s.has(o))throw TypeError("Cannot "+t)};var r=(o,s,t)=>(N(o,s,"read from private field"),t?t.call(o):s.get(o)),c=(o,s,t)=>{if(s.has(o))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(o):s.set(o,t)};var v,g,p,h,E,b;const m=class extends HTMLElement{constructor(){super();a(this,"list",()=>this.closest(u.defaultElementName));c(this,v,t=>{t.preventDefault();const n=setTimeout(()=>r(this,g).call(this),m.START_DRAG_DELAY_MS),e=()=>{clearTimeout(n),document.removeEventListener("pointerup",e),document.removeEventListener("pointercancel",e),document.removeEventListener("contextmenu",e)};document.addEventListener("pointerup",e),document.addEventListener("pointercancel",e),document.addEventListener("contextmenu",e)});c(this,g,t=>{t==null||t.preventDefault(),this.dataset.dragging="",document.addEventListener("pointermove",r(this,p)),document.addEventListener("pointerup",r(this,h)),document.addEventListener("pointercancel",r(this,h))});c(this,p,t=>{var w,M;t.preventDefault();const n=this.list(),e=n.items(),i={index:e.indexOf(this),rect:this.getBoundingClientRect()},d={index:i.index-1,rect:(w=e[i.index-1])==null?void 0:w.getBoundingClientRect()},f={index:i.index+1,rect:(M=e[i.index+1])==null?void 0:M.getBoundingClientRect()};d.rect&&t.clientY<Math.min(d.rect.top+i.rect.height,d.rect.bottom)?n.reorder(i.index,d.index,e):f.rect&&t.clientY>Math.max(f.rect.bottom-i.rect.height,f.rect.top)&&n.reorder(i.index,f.index,e)});c(this,h,()=>{delete this.dataset.dragging,document.removeEventListener("pointermove",r(this,p)),document.removeEventListener("pointerup",r(this,h)),document.removeEventListener("pointercancel",r(this,h))});c(this,E,()=>{const t=this.list().items(),n=t.find(e=>e.getAttribute("aria-selected")==="true")==null;this===t[0]&&n?this.setAttribute("aria-selected","true"):this.setAttribute("aria-selected","false")});c(this,b,()=>{var i;const t=(i=this.shadowRoot)!=null?i:this.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=m.css;const e=document.createElement("template");return e.innerHTML=m.html,t.appendChild(n),t.appendChild(e.content),t});r(this,b).call(this)}static get observedAttributes(){return["aria-selected"]}connectedCallback(){this.setAttribute("role","option"),this.addEventListener("pointerdown",r(this,v)),this.hasAttribute("aria-selected")||r(this,E).call(this)}attributeChangedCallback(){this.setAttribute("tabindex",this.getAttribute("aria-selected")==="true"?"0":"-1")}};let l=m;v=new WeakMap,g=new WeakMap,p=new WeakMap,h=new WeakMap,E=new WeakMap,b=new WeakMap,a(l,"defaultElementName","reorder-item"),a(l,"html",`
        <slot></slot>
    `),a(l,"css",`
        :host {
            display: list-item;
            touch-action: none;
        }
        
        :host([data-dragging]) {
            opacity: 0.5;
            cursor: ns-resize;
        }
    `),a(l,"START_DRAG_DELAY_MS",150);var A,x,y,L;const D=class extends HTMLElement{constructor(){super();a(this,"items",()=>Array.from(this.querySelectorAll(l.defaultElementName)));a(this,"current",()=>this.querySelector(`${l.defaultElementName}[tabindex="0"]`));a(this,"reorder",(t,n,e=this.items())=>{t<n?e[n].after(e[t]):this.insertBefore(e[t],e[n]),e[t].focus()});c(this,A,t=>{const n=r(this,x).call(this);if(n.includes(t.key)){const e=this.items();e.indexOf(this.current());let i=e.indexOf(this.current());i<0&&(i=0);const d=Math.max(0,Math.min(e.length-1,i+(t.key===n[0]?-1:1)));t.altKey&&i!==d?(t.preventDefault(),this.reorder(i,d,e)):i!==d&&(t.preventDefault(),r(this,y).call(this,e,e[d]))}});c(this,x,()=>["ArrowUp","ArrowDown"]);c(this,y,(t,n)=>{t.forEach(e=>{e.setAttribute("aria-selected","false")}),n.setAttribute("aria-selected","true"),n.focus()});c(this,L,()=>{var i;const t=(i=this.shadowRoot)!=null?i:this.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=D.css;const e=document.createElement("template");return e.innerHTML=D.html,t.appendChild(n),t.appendChild(e.content),t});r(this,L).call(this)}connectedCallback(){this.setAttribute("role","listbox"),this.addEventListener("keydown",r(this,A))}};let u=D;A=new WeakMap,x=new WeakMap,y=new WeakMap,L=new WeakMap,a(u,"defaultElementName","reorder-list"),a(u,"html",`
        <slot></slot>
    `),a(u,"css",`
        :host {
            display: block;
            list-style: disc;
            padding-left: 1em;
        }
    `);window.customElements.get(u.defaultElementName)||window.customElements.define(u.defaultElementName,u);window.customElements.get(l.defaultElementName)||window.customElements.define(l.defaultElementName,l);
