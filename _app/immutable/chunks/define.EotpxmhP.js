var q=Object.defineProperty;var _=r=>{throw TypeError(r)};var U=(r,n,e)=>n in r?q(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var x=(r,n,e)=>U(r,typeof n!="symbol"?n+"":n,e),C=(r,n,e)=>n.has(r)||_("Cannot "+e);var t=(r,n,e)=>(C(r,n,"read from private field"),e?e.call(r):n.get(r)),o=(r,n,e)=>n.has(r)?_("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(r):n.set(r,e),u=(r,n,e,i)=>(C(r,n,"write to private field"),i?i.call(r,e):n.set(r,e),e),h=(r,n,e)=>(C(r,n,"access private method"),e);const G="typing",V="type",X="typed",F="erasing",W="erase",z="erased",B="resumed",J="paused",K="typewritten-text:nextchar",Q="typewritten-text:prevchar",Z="typewritten-text:phrasetyped",tt="typewritten-text:phraseremoved",et="typewritten-text:started",st="typewritten-text:paused",k=r=>new Promise(n=>setTimeout(n,r));var y,p,c,v,m,s,N,I,S,b,Y,D,$,j,l,f,E,L,R,g,O,d;const w=class w extends HTMLElement{constructor(){super();o(this,s);o(this,y);o(this,p,0);o(this,c,"typing");o(this,v,[]);o(this,m,[]);o(this,S,()=>this.reset());o(this,b,()=>{t(this,s,I).assignedNodes().length===0&&this.reset()});o(this,f,(e,i)=>{const a=parseFloat(this.getAttribute(e));return isNaN(a)?i:a});o(this,E,!1);o(this,g,e=>t(this,p)===((e??t(this,c))==="typing"?this.length:0));o(this,O,()=>{const e=this.shadowRoot??this.attachShadow({mode:"open"}),i=document.createElement("style");i.innerHTML=w.css;const a=document.createElement("template");return a.innerHTML=w.html,e.appendChild(i),e.appendChild(a.content),e});o(this,d,(e,i,a)=>(console.warn(`typewritten-text: \`${e}\` is deprecated. Use \`${i.join("`, `")}\` instead.`),a()));t(this,O).call(this)}static get observedAttributes(){return["paused"]}get paused(){return this.hasAttribute("paused")}set paused(e){this.toggleAttribute("paused",e)}get typeSpeed(){return!this.hasAttribute("type-speed")&&this.hasAttribute("letter-interval")?this.letterInterval:t(this,f).call(this,"type-speed",80)}set typeSpeed(e){this.setAttribute("type-speed",e.toString())}get eraseSpeed(){return!this.hasAttribute("erase-speed")&&this.hasAttribute("letter-interval")?this.letterInterval:t(this,f).call(this,"erase-speed",50)}set eraseSpeed(e){this.setAttribute("erase-speed",e.toString())}get repeat(){return this.hasAttribute("repeat")}set repeat(e){this.toggleAttribute("repeat",e)}get repeatInterval(){return!this.hasAttribute("repeat-interval")&&this.hasAttribute("phrase-interval")?this.phraseInterval:t(this,f).call(this,"repeat-interval",1e3)}set repeatInterval(e){this.setAttribute("repeat-interval",e.toString())}get position(){return t(this,p)}get length(){return t(this,v).length}async type(){await h(this,s,L).call(this,"typing")}async typeOne(){t(this,p)>=this.length||(t(this,v)[t(this,p)].hidden=!1,t(this,v)[t(this,p)].classList.add("typewritten-text_revealed"),h(this,s,l).call(this,V),h(this,s,l).call(this,K),h(this,s,R).call(this,"typing"),u(this,p,t(this,p)+1),t(this,g).call(this,"typing")&&(h(this,s,l).call(this,X),h(this,s,l).call(this,Z)))}async erase(){await h(this,s,L).call(this,"erasing")}async eraseOne(){t(this,p)<=0||(u(this,p,t(this,p)-1),t(this,v)[t(this,p)].hidden=!0,t(this,v)[t(this,p)].classList.remove("typewritten-text_revealed"),h(this,s,l).call(this,W),h(this,s,l).call(this,Q),h(this,s,R).call(this,"erasing"),t(this,g).call(this,"erasing")&&(h(this,s,l).call(this,z),h(this,s,l).call(this,tt)))}switchDirection(){u(this,c,t(this,c)==="typing"?"erasing":"typing")}pause(){this.paused=!0}resume(){t(this,c)==="erasing"?this.erase():this.type()}reset(){u(this,p,0),u(this,E,!1),u(this,c,"typing"),t(this,s,I).assignedNodes().forEach(e=>e.remove()),h(this,s,Y).call(this),this.paused||this.resume()}connectedCallback(){t(this,s,N).addEventListener("slotchange",t(this,S)),t(this,s,I).addEventListener("slotchange",t(this,b))}disconnectedCallback(){t(this,s,N).removeEventListener("slotchange",t(this,S)),t(this,s,N).removeEventListener("slotchange",t(this,b))}attributeChangedCallback(e,i,a){e==="paused"&&a==null&&(h(this,s,l).call(this,B),h(this,s,l).call(this,et),this.resume()),e==="paused"&&a!=null&&(h(this,s,l).call(this,J),h(this,s,l).call(this,st))}get letterInterval(){return t(this,d).call(this,"letterInterval",["type-speed","erase-speed"],()=>t(this,f).call(this,"letter-interval",100))}set letterInterval(e){t(this,d).call(this,"letterInterval",["type-speed","erase-speed"],()=>this.setAttribute("letter-interval",e.toString()))}get phraseInterval(){return t(this,d).call(this,"phraseInterval",["repeat-interval"],()=>t(this,f).call(this,"phrase-interval",1e3))}set phraseInterval(e){t(this,d).call(this,"phraseInterval",["repeat-interval"],()=>this.setAttribute("phrase-interval",e.toString()))}get currentPosition(){return t(this,d).call(this,"currentPosition",["position"],()=>t(this,p))}typeNext(){t(this,d).call(this,"typeNext",["typeOne"],()=>this.typeOne())}backspace(){t(this,d).call(this,"backspace",["eraseOne"],()=>this.eraseOne())}start(){t(this,d).call(this,"start",["resume"],()=>this.resume())}tick(){t(this,d).call(this,"tick",["typeOne","eraseOne"],()=>{this.paused||(t(this,c)==="typing"?this.typeOne():this.eraseOne(),t(this,g).call(this)&&this.switchDirection())})}forceTick(){t(this,d).call(this,"tick",["typeOne","eraseOne"],()=>{t(this,c)==="typing"?this.typeOne():this.eraseOne(),t(this,g).call(this)&&this.switchDirection()})}reverse(){t(this,d).call(this,"reverse",["switchDirection"],()=>this.switchDirection())}};y=new WeakMap,p=new WeakMap,c=new WeakMap,v=new WeakMap,m=new WeakMap,s=new WeakSet,N=function(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector("slot")},I=function(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector('slot[name="mirror"]')},S=new WeakMap,b=new WeakMap,Y=function(){var e,i;u(this,y,document.createElement("span")),t(this,y).slot="mirror",t(this,y).innerHTML='<span class="cursor current typewritten-text_start typewritten-text_current"></span>'+h(this,s,D).call(this),this.appendChild(t(this,y)),u(this,v,((e=t(this,y))==null?void 0:e.querySelectorAll(".char"))??[]),u(this,m,((i=t(this,y))==null?void 0:i.querySelectorAll(".cursor"))??[])},D=function(e=this){return[...e.childNodes].map(i=>{if(i.nodeType===Node.TEXT_NODE)return h(this,s,$).call(this,i.textContent);{const a=i.cloneNode(!1);return a.innerHTML=h(this,s,D).call(this,i),a.outerHTML}}).join("")},$=function(e){const i=/([\s-])/g;return e.split(i).filter(a=>a.length>0).map(a=>`<span class="${i.test(a)?"":"word typewritten-text_word"}">${h(this,s,j).call(this,a)}</span>`).join("")},j=function(e){return[...e].map(i=>`<span class="char cursor typewritten-text_character" hidden>${i}</span>`).join("")},l=function(e){this.dispatchEvent(new CustomEvent(e,{detail:{position:t(this,p),length:this.length}}))},f=new WeakMap,E=new WeakMap,L=async function(e){if(!t(this,E)){for(u(this,E,!0),this.paused=!1,u(this,c,e),h(this,s,l).call(this,t(this,c)==="typing"?G:F);!this.paused&&(!t(this,g).call(this)||this.repeat);)await(t(this,c)==="typing"?this.typeOne():this.eraseOne()),t(this,g).call(this)||await k(t(this,c)==="typing"?this.typeSpeed:this.eraseSpeed),t(this,g).call(this)&&this.repeat&&!this.paused&&(await k(this.repeatInterval),this.switchDirection());t(this,g).call(this)&&this.switchDirection(),this.paused=!0,u(this,E,!1)}},R=function(e){var P,T,M,H;const i=e==="typing"?"add":"remove",a=e==="typing"?"remove":"add";(P=t(this,m)[t(this,p)+1])==null||P.classList[i]("current"),(T=t(this,m)[t(this,p)])==null||T.classList[a]("current"),(M=t(this,m)[t(this,p)+1])==null||M.classList[i]("typewritten-text_current"),(H=t(this,m)[t(this,p)])==null||H.classList[a]("typewritten-text_current")},g=new WeakMap,O=new WeakMap,d=new WeakMap,x(w,"defaultElementName","typewritten-text"),x(w,"html",`
		<span class="visually-hidden no-copy"><slot></slot></span>
		<span aria-hidden="true"><slot name="mirror"></slot></span>
	`),x(w,"css",`
		:host { display: inline; }

		.visually-hidden {
			clip: rect(1px, 1px, 1px, 1px);
			clip-path: inset(50%);
			height: 1px;
			width: 1px;
			margin: -1px;
			overflow: hidden;
			padding: 0;
			position: absolute;
		}

		.no-copy { user-select: none; }
	`);let A=w;window.customElements.get(A.defaultElementName)||window.customElements.define(A.defaultElementName,A);
